{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/longjiuwei/html,css,js/xiaogao_blog/web/pages/index.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport marked from 'marked';\nimport Parallax from 'parallax-js';\nimport moment from 'moment';\nimport Styles from '../styles/index/index.module.scss';\nimport { getIndexPageData } from '../api/api';\nimport { message, Tooltip } from 'antd';\nimport { SortDescendingOutlined, FontColorsOutlined, MehOutlined, HeartOutlined, AlignRightOutlined, CloseOutlined } from '@ant-design/icons';\nimport LoadingDom from '../components/loading';\nimport { setInterval } from 'timers';\nimport Helmet from '../components/Helmet';\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"scene\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"disposeScreen\", function () {\n      var width = document.body.clientWidth;\n      var height = document.body.clientHeight;\n\n      var _this$calculateFather = _this.calculateFatherBox(width, height),\n          featherBox = _this$calculateFather.featherBox,\n          imgBoxStyle = _this$calculateFather.imgBoxStyle;\n\n      _this.setState({\n        fatherBox: featherBox,\n        screenHeight: height,\n        imgBoxStyle: imgBoxStyle\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadMore\", function () {\n      var _this$state = _this.state,\n          pageNo = _this$state.pageNo,\n          pageSize = _this$state.pageSize;\n\n      _this.setState(function () {\n        return {\n          pageSize: _this.state.pageSize + 5\n        };\n      });\n\n      _this.initData(pageNo, pageSize + 5);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initParallax\", function (DOMElement) {\n      new Parallax(DOMElement, {\n        relativeInput: true,\n        clipRelativeInput: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onNavHide\", function (blg) {\n      _this.setState({\n        navHied: blg\n      });\n\n      var body = document.querySelector('body');\n\n      if (blg) {\n        body.style.overflowY = \"hidden\";\n      } else {\n        body.style.overflowY = \"\";\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSlide\", function () {\n      _this.animate(0);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animate\", function (targe, callback) {\n      _this.timer = setInterval(function () {\n        var step = (targe - window.pageYOffset) / 10;\n        step = step >= 0 ? Math.ceil(step) : Math.floor(step);\n\n        if (window.pageYOffset === targe) {\n          clearInterval(_this.timer._id);\n          callback && callback();\n        }\n\n        window.scroll(0, window.pageYOffset + step);\n      }, 15);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderNav\", function () {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.nav,\n        style: !_this.state.navHied ? {\n          top: '-100%'\n        } : {\n          top: '0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: Styles.nav_list,\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/article\",\n              children: \"Article\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, _assertThisInitialized(_this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/subscribe\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: \"Subscribe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 41\n              }, _assertThisInitialized(_this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, _assertThisInitialized(_this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              href: \"/aboutMe\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: \"AboutMe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 39\n              }, _assertThisInitialized(_this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, _assertThisInitialized(_this)), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, _assertThisInitialized(_this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.word,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Everywhere in the world has a similar life.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, _assertThisInitialized(_this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 9\n        }, _assertThisInitialized(_this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 32\n      }, _assertThisInitialized(_this));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderBlogList\", function () {\n      var blogList = _this.state.blogList;\n      return blogList.map(function (item) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.post,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.img_box,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/[\".concat(String(item.id), \"]\"),\n              as: \"/\".concat(String(item.id)),\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.imgUrl,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 25\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 21\n              }, _assertThisInitialized(_this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, _assertThisInitialized(_this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.info,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.time,\n              children: moment(item.createDate).format('YYYY-MM-DD')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.title,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: '/' + String(item.id),\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  style: {\n                    color: 'black'\n                  },\n                  children: item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 25\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, _assertThisInitialized(_this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.text,\n              dangerouslySetInnerHTML: {\n                __html: marked(item.content, {\n                  gfm: true,\n                  xhtml: false\n                })\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.stuff,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u5B57\\u7B26\",\n                  color: \"#ef6d57\",\n                  overlayStyle: {\n                    borderRadius: '4px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FontColorsOutlined, {\n                    className: Styles.icon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 29\n                  }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: Styles.charts,\n                    children: item.number_words\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 29\n                  }, _assertThisInitialized(_this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 25\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u67E5\\u770B\",\n                  color: \"#50bcb6\",\n                  overlayStyle: {\n                    borderRadius: '4px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(MehOutlined, {\n                    className: Styles.icon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 29\n                  }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: Styles.charts,\n                    children: item.viewCount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 29\n                  }, _assertThisInitialized(_this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 25\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 21\n              }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u70B9\\u8D5E\",\n                  color: \"#ffa800\",\n                  overlayStyle: {\n                    borderRadius: '4px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(HeartOutlined, {\n                    className: Styles.icon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 29\n                  }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: Styles.charts,\n                    children: item.likeCount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 29\n                  }, _assertThisInitialized(_this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 25\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, _assertThisInitialized(_this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, _assertThisInitialized(_this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, _assertThisInitialized(_this))]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 38\n        }, _assertThisInitialized(_this));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderHomeBlogList\", function () {\n      var blogList = _this.state.blogList;\n      var item = blogList.length > 0 ? blogList[blogList.length - 1] : {\n        id: 1,\n        createDate: '',\n        content: '',\n        title: ''\n      };\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.info,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.time,\n          children: moment(item.createDate).format('YYYY-MM-DD')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.title,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: '/' + String(item.id),\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 21\n            }, _assertThisInitialized(_this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 17\n          }, _assertThisInitialized(_this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.text,\n          dangerouslySetInnerHTML: {\n            __html: marked(item.content, {\n              gfm: true,\n              xhtml: false\n            })\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, _assertThisInitialized(_this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 16\n      }, _assertThisInitialized(_this));\n    });\n\n    _this.state = {\n      fatherBox: {},\n      imgBoxStyle: {},\n      navHied: false,\n      loadingMore: false,\n      screenHeight: 0,\n      blogList: [],\n      pageNo: 1,\n      pageSize: 5,\n      total: 0\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          pageNo = _this$state2.pageNo,\n          pageSize = _this$state2.pageSize;\n      this.initParallax(this.scene.current);\n      window.addEventListener('resize', this.disposeScreen, false);\n      this.disposeScreen();\n      document.addEventListener('scroll', function () {\n        clearInterval(_this2.timer);\n      });\n      this.initData(pageNo, pageSize);\n    }\n  }, {\n    key: \"initData\",\n    value: function () {\n      var _initData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(pageNo, pageSize) {\n        var responseData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setState({\n                  loadingMore: true\n                });\n                _context.next = 3;\n                return getBlogList({\n                  pageNo: pageNo,\n                  pageSize: pageSize\n                });\n\n              case 3:\n                responseData = _context.sent;\n                this.setState({\n                  blogList: responseData.list,\n                  total: responseData.total,\n                  loadingMore: false\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initData(_x, _x2) {\n        return _initData.apply(this, arguments);\n      }\n\n      return initData;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.disposeScreen);\n    }\n  }, {\n    key: \"calculateFatherBox\",\n    value: function calculateFatherBox(w, h) {\n      var _w = parseInt(w),\n          _h = parseInt(h),\n          x,\n          y,\n          i,\n          e = _w >= 1000 || _h >= 1000 ? 1000 : 500;\n\n      if (_w >= _h) {\n        i = _w / e * 50;\n        y = i;\n        x = i * _w / _h;\n      } else {\n        i = _h / e * 50;\n        x = i;\n        y = i * _h / _w;\n      }\n\n      var featherBox = {\n        width: _w + x + 'px',\n        height: _h + y + 'px',\n        marginLeft: -0.5 * x + 'px',\n        marginTop: -0.5 * y + 'px'\n      };\n      var imgBoxStyle = this.calculateBox(_w + x, _h + y);\n      return {\n        featherBox: featherBox,\n        imgBoxStyle: imgBoxStyle\n      };\n    }\n  }, {\n    key: \"calculateBox\",\n    value: function calculateBox(w, h) {\n      var width = parseInt(w),\n          height = parseInt(h),\n          ratio = 1080 / 1920,\n          style = {};\n      var compute = height / width > ratio;\n      style['width'] = compute ? height / ratio + 'px' : \"\".concat(width, \"px\");\n      style['height'] = compute ? \"\".concat(height, \"px\") : width * ratio + 'px';\n      style['left'] = (width - parseInt(style.width)) / 2 + 'px';\n      style['top'] = (height - parseInt(style.height)) / 2 + 'px';\n      return style;\n    } // 我是真塔喵的菜\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.container,\n        children: [/*#__PURE__*/_jsxDEV(Helmet, {\n          title: \" home | \\u5C0F\\u818F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.home,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            ref: this.scene,\n            className: Styles.scene,\n            style: {\n              height: this.state.screenHeight + 'px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-depth\": \"0.4\",\n              className: Styles.bg,\n              style: this.state.fatherBox,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/image/bg.png\",\n                style: this.state.imgBoxStyle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.head,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.logo,\n              style: !this.state.navHied ? {\n                color: '#fff'\n              } : {\n                color: '#333'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"web-font\",\n                children: \"\\u5C0F \\xB7 \\u818F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.menu,\n              children: !this.state.navHied ? /*#__PURE__*/_jsxDEV(AlignRightOutlined, {\n                className: \"iconfont\",\n                onClick: function onClick() {\n                  return _this3.onNavHide(true);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 48\n              }, this) : /*#__PURE__*/_jsxDEV(CloseOutlined, {\n                onClick: function onClick() {\n                  return _this3.onNavHide(false);\n                },\n                className: \"iconfont\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 131\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.misk\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.post,\n            children: this.renderHomeBlogList()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this), this.renderNav()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.content,\n          children: [this.renderBlogList(), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.more,\n            children: this.state.total === this.state.blogList.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.bottomTest,\n              children: \"\\u5230\\u5E95\\u4E86\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 72\n            }, this) : this.state.loadingMore ? /*#__PURE__*/_jsxDEV(LoadingDom, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 144\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.loadingBtn,\n              onClick: this.loadMore,\n              children: \"\\u52A0\\u8F7D\\u66F4\\u591A \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 161\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.foot,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            target: \"_blank\",\n            children: \"\\u7CA4ICP\\u5907181222222\\u53F7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.navigationBar,\n          onClick: this.onSlide,\n          children: /*#__PURE__*/_jsxDEV(SortDescendingOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 16\n      }, this);\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport var __N_SSG = true;\nexport var getBlogList = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n    var _yield$getIndexPageDa, data, success;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return getIndexPageData({\n              pageNo: params.pageNo,\n              pageSize: params.pageSize\n            });\n\n          case 3:\n            _yield$getIndexPageDa = _context2.sent;\n            data = _yield$getIndexPageDa.data;\n            success = _yield$getIndexPageDa.success;\n\n            if (success) {\n              _context2.next = 8;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", message.error('请求错误'));\n\n          case 8:\n            return _context2.abrupt(\"return\", data);\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 11]]);\n  }));\n\n  return function getBlogList(_x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport default App;","map":{"version":3,"sources":["/Users/longjiuwei/html,css,js/xiaogao_blog/web/pages/index.tsx"],"names":["React","Link","marked","Parallax","moment","Styles","getIndexPageData","message","Tooltip","SortDescendingOutlined","FontColorsOutlined","MehOutlined","HeartOutlined","AlignRightOutlined","CloseOutlined","LoadingDom","setInterval","Helmet","App","props","createRef","width","document","body","clientWidth","height","clientHeight","calculateFatherBox","featherBox","imgBoxStyle","setState","fatherBox","screenHeight","state","pageNo","pageSize","initData","DOMElement","relativeInput","clipRelativeInput","blg","navHied","querySelector","style","overflowY","animate","targe","callback","timer","step","window","pageYOffset","Math","ceil","floor","clearInterval","_id","scroll","nav","top","nav_list","word","blogList","map","item","post","img_box","String","id","imgUrl","info","time","createDate","format","title","color","text","__html","content","gfm","xhtml","stuff","borderRadius","icon","charts","number_words","viewCount","likeCount","length","loadingMore","total","initParallax","scene","current","addEventListener","disposeScreen","getBlogList","responseData","list","removeEventListener","w","h","_w","parseInt","_h","x","y","i","e","marginLeft","marginTop","calculateBox","ratio","compute","container","home","bg","head","logo","menu","onNavHide","misk","renderHomeBlogList","renderNav","renderBlogList","more","bottomTest","loadingBtn","loadMore","foot","navigationBar","onSlide","Component","params","data","success","error","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { GetStaticProps } from 'next'\nimport Link from 'next/link'\nimport marked from 'marked'\nimport Parallax from 'parallax-js'\nimport moment from 'moment'\nimport Styles from '../styles/index/index.module.scss'\nimport { getIndexPageData } from '../api/api'\nimport { message, Tooltip } from 'antd'\nimport { IBlogList } from '../types/response'\nimport {\n    SortDescendingOutlined, FontColorsOutlined, MehOutlined, HeartOutlined, AlignRightOutlined, CloseOutlined\n} from '@ant-design/icons'\nimport LoadingDom from '../components/loading'\nimport { setInterval } from 'timers';\nimport Helmet from '../components/Helmet'\n\ninterface IAppState {\n    fatherBox: {\n        [props: string]: string\n    }\n    screenHeight: number\n    imgBoxStyle: {\n        [props: string]: string\n    }\n    navHied: boolean\n    loadingMore: boolean\n    blogList: IBlogList[] \n    pageNo: number\n    pageSize: number\n    total: number\n}\n\ninterface IAppProps {\n\n}\nclass App extends React.Component<IAppProps, IAppState> {\n    private scene = React.createRef<any>();\n    private timer: any = null;\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            fatherBox: {},\n            imgBoxStyle: {},\n            navHied: false,\n            loadingMore: false,\n            screenHeight: 0,\n            blogList: [],\n            pageNo: 1,\n            pageSize: 5,\n            total: 0\n        }\n    }\n\n    componentDidMount() {\n        const { pageNo, pageSize } = this.state\n        this.initParallax(this.scene.current)\n        window.addEventListener('resize', this.disposeScreen, false)\n        this.disposeScreen()\n        document.addEventListener('scroll', () => {\n            clearInterval(this.timer)\n        })\n        this.initData(pageNo, pageSize)\n    }\n    private async initData(pageNo: number, pageSize: number) {\n        this.setState({ loadingMore: true })\n        const responseData = await getBlogList({ pageNo, pageSize })\n        this.setState({ blogList: responseData.list, total: responseData.total, loadingMore: false })\n\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.disposeScreen)\n    }\n\n    private disposeScreen = () => {\n        const width = document.body.clientWidth;\n        const height = document.body.clientHeight;\n        const { featherBox, imgBoxStyle } = this.calculateFatherBox(width, height)\n        this.setState({ fatherBox: featherBox, screenHeight: height, imgBoxStyle: imgBoxStyle })\n    }\n\n    private calculateFatherBox(w, h) {\n        let _w = parseInt(w),\n            _h = parseInt(h),\n            x, y, i,\n            e = (_w >= 1000 || _h >= 1000) ? 1000 : 500;\n        if (_w >= _h) {\n            i = _w / e * 50;\n            y = i;\n            x = i * _w / _h;\n        } else {\n            i = _h / e * 50;\n            x = i;\n            y = i * _h / _w;\n        }\n        const featherBox = {\n            width: _w + x + 'px',\n            height: _h + y + 'px',\n            marginLeft: - 0.5 * x + 'px',\n            marginTop: - 0.5 * y + 'px'\n        }\n        const imgBoxStyle = this.calculateBox(_w + x, _h + y)\n        return { featherBox, imgBoxStyle }\n    }\n    private calculateBox(w, h) {\n        const width = parseInt(w),\n            height = parseInt(h),\n            ratio = 1080 / 1920,\n            style: any = {};\n\n        const compute = height / width > ratio;\n\n        style['width'] = compute ? (height / ratio + 'px') : `${width}px`;\n        style['height'] = compute ? `${height}px` : (width * ratio + 'px');\n\n        style['left'] = (width - parseInt(style.width)) / 2 + 'px';\n        style['top'] = (height - parseInt(style.height)) / 2 + 'px';\n        return style\n    }\n    // 我是真塔喵的菜\n    private loadMore = () => {\n        const { pageNo, pageSize } = this.state\n        this.setState(() => ({ pageSize: this.state.pageSize + 5 }))\n        this.initData(pageNo, pageSize + 5)\n    }\n\n    private initParallax = (DOMElement: React.ReactNode) => {\n        new Parallax(DOMElement, {\n            relativeInput: true,\n            clipRelativeInput: true,\n        })\n    }\n    private onNavHide = (blg: boolean) => {\n        this.setState({ navHied: blg })\n        const body = document.querySelector('body')\n        if (blg) {\n            body.style.overflowY = \"hidden\"\n        } else {\n            body.style.overflowY = \"\"\n        }\n    }\n\n    private onSlide = () => {\n        this.animate(0)\n    }\n\n    private animate = (targe: number, callback?: () => void) => {\n        this.timer = setInterval(() => {\n            let step = (targe - window.pageYOffset) / 10;\n            step = step >= 0 ? Math.ceil(step) : Math.floor(step);\n            if (window.pageYOffset === targe) {\n                clearInterval(this.timer._id);\n                callback && callback()\n            }\n            window.scroll(0, window.pageYOffset + step);\n        }, 15)\n\n    }\n\n    private renderNav = () => (<div className={Styles.nav} style={!this.state.navHied ? { top: '-100%' } : { top: '0' }}>\n        <ul className={Styles.nav_list} >\n            <li><a href=\"/article\">Article</a></li>\n            {/* <li><a href=\"/messageBoard\">MessageBoard</a></li> */}\n            <li><Link href=\"/subscribe\"><a>Subscribe</a></Link></li>\n            <li><Link href=\"/aboutMe\"><a>AboutMe</a></Link> </li>\n        </ul>\n        <div className={Styles.word}>\n            <span>Everywhere in the world has a similar life.</span>\n        </div>\n    </div>)\n\n    private renderBlogList = () => {\n        const { blogList } = this.state\n        return blogList.map(item => (<div className={Styles.post} key={item.id}>\n            <div className={Styles.img_box}>\n                <Link href={`/[${String(item.id)}]`} as={`/${String(item.id)}`}>\n                    <a>\n                        <img src={item.imgUrl} alt=\"\" />\n                    </a>\n                </Link>\n            </div>\n            <div className={Styles.info}>\n                <div className={Styles.time}>{moment(item.createDate).format('YYYY-MM-DD')}</div>\n                <div className={Styles.title}>\n                    <Link href={'/' + String(item.id)}>\n                        <a style={{ color: 'black' }}>\n                            {item.title}\n                        </a>\n                    </Link>\n                </div>\n                <div className={Styles.text} dangerouslySetInnerHTML={{ __html: marked(item.content, { gfm: true, xhtml: false }) as string }}>\n                </div>\n                <div className={Styles.stuff}>\n                    <div>\n                        <Tooltip title='字符' color='#ef6d57' overlayStyle={{ borderRadius: '4px' }}>\n                            <FontColorsOutlined className={Styles.icon} />\n                            <span className={Styles.charts}>{item.number_words}</span>\n                        </Tooltip>\n                    </div>\n                    <div>\n                        <Tooltip title='查看' color='#50bcb6' overlayStyle={{ borderRadius: '4px' }}>\n                            <MehOutlined className={Styles.icon} />\n                            <span className={Styles.charts}>{item.viewCount}</span>\n                        </Tooltip>\n                    </div>\n                    <div>\n                        <Tooltip title='点赞' color='#ffa800' overlayStyle={{ borderRadius: '4px' }}>\n                            <HeartOutlined className={Styles.icon} />\n                            <span className={Styles.charts}>{item.likeCount}</span>\n                        </Tooltip>\n                    </div>\n                </div>\n            </div>\n        </div>\n        ))\n    }\n    private renderHomeBlogList = () => {\n        const { blogList } = this.state\n        const item = blogList.length > 0 ? blogList[blogList.length - 1] : {\n            id: 1,\n            createDate: '',\n            content: '',\n            title: ''\n        }\n        return <div className={Styles.info}>\n            <div className={Styles.time}>{moment(item.createDate).format('YYYY-MM-DD')}</div>\n            <div className={Styles.title}>\n                <Link href={'/' + String(item.id)}>\n                    <a>{item.title}</a>\n                </Link>\n            </div>\n            <div className={Styles.text} dangerouslySetInnerHTML={{ __html: marked(item.content, { gfm: true, xhtml: false }) as string }}>\n            </div>\n        </div>\n    }\n    render() {\n\n        return <div className={Styles.container}>\n            <Helmet title=\" home | 小膏\" />\n            <div className={Styles.home} >\n                <div ref={this.scene} className={Styles.scene} style={{ height: this.state.screenHeight + 'px' }} >\n                    <div data-depth=\"0.4\" className={Styles.bg} style={this.state.fatherBox} >\n                        <img src='/image/bg.png' style={this.state.imgBoxStyle} />\n                    </div>\n                </div>\n                <div className={Styles.head}>\n                    <div className={Styles.logo} style={!this.state.navHied ? { color: '#fff' } : { color: '#333' }}>\n                        <i className=\"web-font\" >小 · 膏</i>\n                    </div>\n                    <div className={Styles.menu} >\n                        {!this.state.navHied ? <AlignRightOutlined className='iconfont' onClick={() => this.onNavHide(true)} /> : <CloseOutlined onClick={() => this.onNavHide(false)} className='iconfont' />}\n                    </div>\n                </div>\n                <div className={Styles.misk}></div>\n                <div className={Styles.post}>\n                    {this.renderHomeBlogList()}\n                </div>\n                {this.renderNav()}\n            </div>\n            <div className={Styles.content}>\n                {this.renderBlogList()}\n                <div className={Styles.more} >\n                    {this.state.total === this.state.blogList.length ? <div className={Styles.bottomTest}>到底了</div> : this.state.loadingMore ? <LoadingDom /> : <div className={Styles.loadingBtn} onClick={this.loadMore}>加载更多 </div>}\n                </div>\n            </div>\n            <div className={Styles.foot}>\n                <a target=\"_blank\">\n                    粤ICP备181222222号\n                    </a>\n            </div>\n            <div className={Styles.navigationBar} onClick={this.onSlide} >\n                <SortDescendingOutlined />\n            </div>\n        </div>\n    }\n}\n\nexport const getBlogList = async (params) => {\n    try {\n        const { data, success } = await getIndexPageData({ pageNo: params.pageNo, pageSize: params.pageSize })\n        if (!success) return message.error('请求错误')\n        return data\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const getStaticProps: GetStaticProps = async (context) => {\n\n    return {\n        props: {\n\n        },\n        revalidate: 1\n    }\n}\n\n\nexport default App\n\n"]},"metadata":{},"sourceType":"module"}