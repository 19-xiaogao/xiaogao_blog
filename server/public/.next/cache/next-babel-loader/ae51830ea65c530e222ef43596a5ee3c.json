{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport Helmet from '../components/Helmet';\nimport Texty from 'rc-texty';\nimport 'rc-texty/assets/index.css';\nimport Styles from '../styles/subscribe/index.module.scss';\nimport { headerType } from '../types/response';\nimport { Email } from '../util/RegExp';\nimport PageHeader from '../components/Header';\nimport Wave from '../components/wave';\nimport { subscribe_email } from '../api/api';\nimport { message } from 'antd';\n\nconst Subscribe = () => {\n  const {\n    0: email,\n    1: setUserEmail\n  } = useState('');\n  const {\n    0: warnTextTow,\n    1: setWarnTextTow\n  } = useState('');\n  const {\n    0: warnTextNo,\n    1: setWarnTextNo\n  } = useState('');\n\n  const userChange = e => {\n    setUserEmail(e.target.value);\n  };\n\n  const subscribe = async () => {\n    if (email.trim() === '') {\n      setWarnTextNo('');\n      return setWarnTextTow('填写邮箱地址!');\n    }\n\n    if (!Email.test(email)) {\n      setWarnTextTow('');\n      return setWarnTextNo('请输入正确的邮箱地址!');\n    }\n\n    setWarnTextTow('');\n    setWarnTextNo('');\n    const {\n      data,\n      success\n    } = await subscribe_email({\n      type: 1,\n      email: email\n    });\n    if (!success) message.warn(data);\n    message.success(data);\n    setUserEmail('');\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: Styles.content,\n    children: [/*#__PURE__*/_jsx(Helmet, {\n      title: \"subscribe| \\u5C0F\\u818F\"\n    }), /*#__PURE__*/_jsx(PageHeader, {\n      type: headerType.subscribe\n    }), /*#__PURE__*/_jsx(\"h1\", {\n      className: Styles.h1,\n      children: \"[ \\u6B7B\\u4EA1\\u5982\\u98CE-\\u5E38\\u4F34\\u65E0\\u58F0 ]\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: Styles.beginBox,\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: \"\\u563F\\uFF0C\\u4F60\\u4ECA\\u5929\\u7B11\\u4E86\\u4E48 ~~\"\n      }), /*#__PURE__*/_jsx(\"p\", {\n        children: \"\\u613F\\u4F60\\u96E8\\u5929\\u6709\\u4F1E\\uFF0C\\u6DF1\\u591C\\u6709\\u706F\\uFF0C\\u4E00\\u751F\\u6E29\\u6696\\u7EAF\\u826F\\uFF0C\\u4E0D\\u820D\\u7231\\u4E0E\\u81EA\\u7531\\u3002 \\u4E0E\\u5C18\\u4E16\\u7684\\u4E07\\u5343\\u7F8E\\u597D\\u90FD\\u80FD\\u4E0D\\u671F\\u800C\\u9047\\u3002 \\u6B22\\u8FCE\\u8BA2\\u9605\\u5FC3\\u60C5\\u5C0F\\u9547\\u7684\\u65B0\\u6587\\u7AE0\\u901A\\u77E5\\uFF0C\\u613F\\u597D~~\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: Styles.inputBox,\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          placeholder: \"Your email address\",\n          value: email,\n          onChange: userChange\n        }), /*#__PURE__*/_jsx(Texty, {\n          className: Styles.warnText,\n          children: warnTextTow\n        }), /*#__PURE__*/_jsx(Texty, {\n          className: Styles.warnText,\n          children: warnTextNo\n        }), /*#__PURE__*/_jsx(\"button\", {\n          onClick: subscribe,\n          children: \"subscribe\"\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(Wave, {})]\n  });\n};\n\nexport default Subscribe;","map":null,"metadata":{},"sourceType":"module"}